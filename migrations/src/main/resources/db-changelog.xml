<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">


    <changeSet author="jesuspg (generated)" id="1-1">
        <createTable tableName="installableinstance_attribute">
            <column name="installableinstance_id" type="INT8">
                <constraints nullable="false"/>
            </column>
            <column name="attributes_id" type="INT8">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-2">
        <createTable tableName="metadata">
            <column name="id" type="INT8">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(2048)"/>
            <column name="key" type="VARCHAR(256)">
                <constraints nullable="false"/>
            </column>
            <column name="v" type="INT8"/>
            <column name="value" type="VARCHAR(2048)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-3">
        <createTable tableName="product_metadata">
            <column name="product_id" type="INT8">
                <constraints nullable="false"/>
            </column>
            <column name="metadatas_id" type="INT8">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-4">
        <addPrimaryKey columnNames="id" constraintName="metadata_pkey" tableName="metadata"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-5">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_metadata"
                                 constraintName="fk53f9a4bf51d74e92" deferrable="false" initiallyDeferred="false"
                                 onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id"
                                 referencedTableName="product"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-6">
        <addForeignKeyConstraint baseColumnNames="metadatas_id" baseTableName="product_metadata"
                                 constraintName="fk53f9a4bfb1bbaf0d" deferrable="false" initiallyDeferred="false"
                                 onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id"
                                 referencedTableName="metadata"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-7">
        <addForeignKeyConstraint baseColumnNames="installableinstance_id" baseTableName="installableinstance_attribute"
                                 constraintName="fkde60718785e9e4d2" deferrable="false" initiallyDeferred="false"
                                 onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id"
                                 referencedTableName="installableinstance"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-8">
        <addForeignKeyConstraint baseColumnNames="attributes_id" baseTableName="installableinstance_attribute"
                                 constraintName="fkde607187e5f228d7" deferrable="false" initiallyDeferred="false"
                                 onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id"
                                 referencedTableName="attribute"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-9">
        <addUniqueConstraint columnNames="attributes_id"
                             constraintName="installableinstance_attribute_attributes_id_key" deferrable="false"
                             disabled="false" initiallyDeferred="false" tableName="installableinstance_attribute"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-10">
        <addUniqueConstraint columnNames="metadatas_id" constraintName="product_metadata_metadatas_id_key"
                             deferrable="false" disabled="false" initiallyDeferred="false"
                             tableName="product_metadata"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-11">
        <dropForeignKeyConstraint baseTableName="environment_productrelease" constraintName="fk1cb8340423ca2e7f"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-12">
        <dropForeignKeyConstraint baseTableName="environment_productrelease" constraintName="fk1cb834046ad33012"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-13">
        <dropForeignKeyConstraint baseTableName="environmentinstance" constraintName="fk58482fa86ad33012"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-14">
        <dropForeignKeyConstraint baseTableName="product_attribute" constraintName="fk6b80b30ce3f6e7ff"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-15">
        <dropForeignKeyConstraint baseTableName="environmentinstance_productinstance"
                                  constraintName="fk8b0e53ed7360f812"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-16">
        <dropForeignKeyConstraint baseTableName="environmentinstance_productinstance"
                                  constraintName="fk8b0e53eddf993ec7"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-17">
        <dropForeignKeyConstraint baseTableName="applicationinstance" constraintName="fk93d675e555d7d97d"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-18">
        <dropForeignKeyConstraint baseTableName="applicationinstance" constraintName="fk93d675e57360f812"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-19">
        <dropForeignKeyConstraint baseTableName="applicationinstance" constraintName="fk93d675e5af62e0c9"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-20">
        <dropForeignKeyConstraint baseTableName="applicationrelease_applicationrelease"
                                  constraintName="fk9dc5053f80475002"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-21">
        <dropForeignKeyConstraint baseTableName="applicationrelease_applicationrelease"
                                  constraintName="fk9dc5053f81d37380"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-22">
        <dropForeignKeyConstraint baseTableName="application" constraintName="fkc00dad30e95a9142"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-23">
        <dropForeignKeyConstraint baseTableName="applicationrelease" constraintName="fkd117dcb75b9a0af2"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-24">
        <dropForeignKeyConstraint baseTableName="applicationrelease" constraintName="fkd117dcb76ad33012"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-25">
        <dropForeignKeyConstraint baseTableName="applicationrelease" constraintName="fkd117dcb77c834fb5"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-26">
        <dropForeignKeyConstraint baseTableName="installablerelease_attribute" constraintName="fke069a76fccd6a222"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-27">
        <dropForeignKeyConstraint baseTableName="installablerelease_attribute" constraintName="fke069a76fecf35034"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-28">
        <dropUniqueConstraint constraintName="environment_name_key" tableName="environment"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-29">
        <dropUniqueConstraint constraintName="environmentinstance_productinstance_productinstances_id_key"
                              tableName="environmentinstance_productinstance"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-30">
        <dropUniqueConstraint constraintName="installablerelease_attribute_privateattributes_id_key"
                              tableName="installablerelease_attribute"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-31">
        <dropTable tableName="application"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-32">
        <dropTable tableName="applicationinstance"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-33">
        <dropTable tableName="applicationrelease"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-34">
        <dropTable tableName="applicationrelease_applicationrelease"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-35">
        <dropTable tableName="environment"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-36">
        <dropTable tableName="environment_productrelease"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-37">
        <dropTable tableName="environmentinstance"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-38">
        <dropTable tableName="environmentinstance_productinstance"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-39">
        <dropTable tableName="installablerelease_attribute"/>
    </changeSet>
    <changeSet author="jesuspg (generated)" id="1-40">
        <dropColumn columnName="metadata_id" tableName="product_attribute"/>
    </changeSet>

</databaseChangeLog>
